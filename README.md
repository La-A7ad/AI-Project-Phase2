# Phase II — Adversarial Search (Connect Four)

This repository implements **Phase II: Minimax + Alpha-Beta Pruning** on **Connect Four** (NOT Tic-Tac-Toe).
Language: **Python (standard library only)**.

---

## Phase II Requirements Coverage (Complete Checklist)

### 1) Game Selection & Modeling
- ✅ Two-player, turn-based, deterministic, zero-sum game (Connect Four)
- ✅ Branching factor > 2 (up to 7 columns available)
- ✅ Manageable but non-trivial game depth (up to 42 moves)

**Code:** `connect4/game.py`

---

### 2) Game Description (a–f)

**a) Game State Representation**
- ✅ Board: 6×7 grid of ints in {0, +1, -1}
  - +1 = Player 1 (X), -1 = Player 2 (O), 0 = empty
- ✅ Turn: `current_player` ∈ {+1, -1}
- ✅ Additional: `last_move` (faster win checking)

**Code:** `connect4/game.py`

**b) Initial State**
- ✅ Empty board, Player 1 starts

**Code:** `ConnectFour.__init__()` / `reset()` in `connect4/game.py`

**c) Actions / Moves**
- ✅ Legal moves = any non-full column (0..6)

**Code:** `ConnectFour.actions()` in `connect4/game.py`

**d) Transition Function**
- ✅ Drop disc to lowest empty row in chosen column, update last move, switch player

**Code:** `ConnectFour.drop_disc()` in `connect4/game.py`

**e) Terminal States**
- ✅ Win: four-in-a-row (horizontal/vertical/diagonal)
- ✅ Draw: board full

**Code:** `winner()`, `terminal()`, `is_full()` in `connect4/game.py`

**f) Game Tree Complexity Estimate**
- ✅ Branching factor ≈ up to 7
- ✅ Depth to terminal ≈ up to 42

**Note:** Full tree is huge → we use depth-limited search.

---

### 3) Modeling Assumptions
- ✅ Maximum search depth is fixed (`--depth`)
- ✅ Depth-limited search uses heuristic evaluation at cutoff
- ✅ Deterministic, perfect-information play assumed (standard rules)

**Code:**  
- Depth limit: `minimax_decision()`, `alphabeta_decision()` in `connect4/search.py`  
- Heuristic: `connect4/evaluation.py`

---

### 4) Performance Comparison (Minimax vs Alpha-Beta)
Compares the required metrics:
- ✅ Time taken
- ✅ Nodes expanded
- ✅ Depth reached
- ✅ Optimality of moves (same depth + same evaluation)
- ✅ Efficiency (nodes/sec and pruning effect)

**Code:** `SearchMetrics` in `connect4/search.py`  
**Output:** `outputs/performance_comparison.txt` (generated by `compare.py`)

---

### 5) Discussion (for the report)
You should discuss:
- ✅ How pruning improves performance
- ✅ Where pruning is most effective
- ✅ Role of heuristics under depth limit

**Use these outputs as evidence:**
- `outputs/performance_comparison.txt`
- `outputs/tree_alphabeta.dot` (shows pruned branches)

---

### 6) Visualization (Required)
You must provide:
- ✅ Partial game tree illustrating explored nodes
- ✅ Highlighted branches removed by Alpha-Beta
- ✅ Board state snapshots
- ✅ Diagram showing Minimax vs Alpha-Beta decision differences

**Generated outputs:**
- Partial explored trees:
  - `outputs/tree_minimax.dot` + `outputs/tree_minimax.json`
  - `outputs/tree_alphabeta.dot` + `outputs/tree_alphabeta.json`
- Alpha-Beta pruning highlighted:
  - In `outputs/tree_alphabeta.dot`, pruned branches are labeled `PRUNED` and styled **dashed red**
- Board snapshots:
  - `outputs/snapshots/move_00.txt` (starting position from `compare.py`)
  - More snapshots from gameplay: `main.py --snapshots`
- Decision difference diagram:
  - `outputs/decision_diff.dot`

---

## How to Run

### A) Human vs AI (Console)
```bash
python main.py --ai alphabeta --depth 5
